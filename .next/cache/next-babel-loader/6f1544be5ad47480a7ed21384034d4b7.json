{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../credentials.json';\nconst doc = new GoogleSpreadsheet('1DeqINerc0OuF_yU7fr0hfDUAuspYFjfL4Ju7y1imyYo');\nexport default (async (req, res) => {\n  try {\n    //await doc.useServiceAccountAuth(credentials)\n    await doc.useServiceAccountAuth({\n      client_email: 'palpitebox@palpitebox-292300.iam.gserviceaccount.com',\n      private_key: '-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQDcRRJD1B8ks/YF\\nV/Xo3LfWEuiTlTWuqseCNgzcHwsFK6Q1gMWq25r59Gs4QqAs52tSCdoj74qHd4ax\\nGWWPOUrJtQstm1QRyvZ4Hdt7HqgTdjrcKR6O2KN0icZxXHodShCJ6Twdqjm3BPGs\\nwsCE792mm5DZDZeX6jpndIGK4gURyPBJUD44K9Zhcsm8VPU8XRx44SWRTt3zB7bf\\nOvTCFhLO/0STckrXEGKR7YS4y3FQUOjBM/BnelTZjil3w2iKNLnsNsoq9x4/ex3w\\ns4GgMDmzHpqVovoLTwDdMCsMs2CY4R4ytTSCgy6UwZoiJbzEo0jQMUXtz7Z9JmSb\\nJji8b/dFAgMBAAECgf8aRWiBqkbTgHB7TBApGlRo958+Pp1zk7PUd+GNmIvMCI1/\\nf3wLcXYtWbS+UoI+nZJURmyjnzuGONwR399ZnFJv+afXaoX6hj/Wvw+iMqFYL9O3\\nup/nOxV80/P8I0OIxEdc5aps/xI54rTfcJ6jM98++oGywM2UViNMfY0ojfB8+nvA\\nHWTDKiWTsEpglLsz/7BO6O4UFqsrgBILfawYEKSM4CFLc6yJS85guCZb8aSUlmMO\\neMYc/hLrDpn63UVCdZlkwOPcvHGjqDPdMSXLU39QFFGvLQYlZOZ0NbaKiXhlu0Ye\\nu/WWJnn1i7nIYa8fy1VlQZU5GSZKm0UxdZv10I8CgYEA+lSvcgRBgpDtPRkyzFdq\\nR4kE3AuaxIcZ1CvuRxE/9AP3R8hj4/d624tjI15aqCBjAyxBnSOSD8+/FoDHBXXV\\nEkQmHcIw/P69i65TObdu9EoDnNVduaa538zwjdri9guqAAIGhnAnxKtnaaxRLFlj\\nvT9JtZOV7cZtSYp4yfRvPfMCgYEA4UIa03gGvJpu5L548GUmh6pvRJijVmoQClaF\\nr+Oc+nzAP2knDhr5zCQxEsavjCUGUZ0hM+zcRaYS2aCWgZF+QNjndPmuDDpiq04R\\n0EmsA4bHHaq6cfl8G5TIYeybsVRU7rjXunQcLTqwOXw9t1APL9NUrAkf93m/K8fd\\nnnhL6+cCgYEAp/l7YL6KVtp41q6573QY1LeUkzMWPxmIs15nHTjt+QdQPtKwdJ/z\\nyK3XcDw4COjyh4aC4LalpAZ66tautXND7mXcTcuoo5ssBTaMkgYMZc/kbLCfm5vM\\nzefu4sEl2oQpJqg1SLCpfsalNbtzHJc+3hZBl53Y1Rx46QgJ1To4CxECgYAngLU9\\noo3j411RJgoFdmekYQI0UGRMkjsP5Q56wvrTfq8kL6eWtKpb33jvpwJAHHoYM+sP\\ntRkH6dDic2QRgtdWPfORMvwPzulgy0cadOECmU8v57HcrPjTyWq+qYTAO17NooLK\\ngvQyBlnDKwOTsymGpJPzu4Hsn2AkKF+4G7aMvwKBgQDDLj8SfuON2D+JVtE4NZNA\\ntcqTlmiq4/cZrhgdES+26Txfh/6eEdx6utANvSEydZx+93s0WeeYRmLlnmNOyckJ\\nB2g9mcckAf0P/uDnCwbfM1Ft7n8n/Fa0g9S9dBXouQeb6IwbyN6xbMLduT6+0922\\nzj5/BHInQirSoHOgycMMDw==\\n-----END PRIVATE KEY-----\\n'\n    });\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[2];\n    await sheet.loadCells('A3:B3');\n    const promotionCell = sheet.getCell(2, 0);\n    const textCell = sheet.getCell(2, 1);\n    console.log(promotionCell.value === 'VERDADEIRO');\n    res.end(JSON.stringify({\n      showCoupon: promotionCell.value === 'VERDADEIRO',\n      message: textCell.value\n    }));\n  } catch (err) {\n    res.end(JSON.stringify({\n      showCoupon: false,\n      message: ''\n    }));\n  }\n});","map":{"version":3,"sources":["C:/Users/Erika/Desktop/devPleno/palpite-box/pages/api/get-promo.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","client_email","private_key","loadInfo","sheet","sheetsByIndex","loadCells","promotionCell","getCell","textCell","console","log","value","end","JSON","stringify","showCoupon","message","err"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AAEA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAZ;AAEA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AAE/B,MAAI;AACA;AAEA,UAAMF,GAAG,CAACG,qBAAJ,CAA0B;AAC5BC,MAAAA,YAAY,EAAE,sDADc;AAE5BC,MAAAA,WAAW,EAAE;AAFe,KAA1B,CAAN;AAKA,UAAML,GAAG,CAACM,QAAJ,EAAN;AACA,UAAMC,KAAK,GAAGP,GAAG,CAACQ,aAAJ,CAAkB,CAAlB,CAAd;AAEA,UAAMD,KAAK,CAACE,SAAN,CAAgB,OAAhB,CAAN;AAEA,UAAMC,aAAa,GAAGH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAAtB;AAEA,UAAMC,QAAQ,GAAGL,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAAjB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYJ,aAAa,CAACK,KAAd,KAAwB,YAApC;AAEAb,IAAAA,GAAG,CAACc,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACnBC,MAAAA,UAAU,EAAET,aAAa,CAACK,KAAd,KAAwB,YADjB;AAEnBK,MAAAA,OAAO,EAAER,QAAQ,CAACG;AAFC,KAAf,CAAR;AAKH,GAvBD,CAuBE,OAAOM,GAAP,EAAY;AACVnB,IAAAA,GAAG,CAACc,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACnBC,MAAAA,UAAU,EAAE,KADO;AAEnBC,MAAAA,OAAO,EAAE;AAFU,KAAf,CAAR;AAIH;AACJ,CA/BD","sourcesContent":["import { GoogleSpreadsheet } from 'google-spreadsheet'\r\n\r\nimport credentials from '../../credentials.json'\r\n\r\nconst doc = new GoogleSpreadsheet('1DeqINerc0OuF_yU7fr0hfDUAuspYFjfL4Ju7y1imyYo')\r\n\r\nexport default async (req, res) => {\r\n\r\n    try {\r\n        //await doc.useServiceAccountAuth(credentials)\r\n\r\n        await doc.useServiceAccountAuth({\r\n            client_email: 'palpitebox@palpitebox-292300.iam.gserviceaccount.com',\r\n            private_key: '-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQDcRRJD1B8ks/YF\\nV/Xo3LfWEuiTlTWuqseCNgzcHwsFK6Q1gMWq25r59Gs4QqAs52tSCdoj74qHd4ax\\nGWWPOUrJtQstm1QRyvZ4Hdt7HqgTdjrcKR6O2KN0icZxXHodShCJ6Twdqjm3BPGs\\nwsCE792mm5DZDZeX6jpndIGK4gURyPBJUD44K9Zhcsm8VPU8XRx44SWRTt3zB7bf\\nOvTCFhLO/0STckrXEGKR7YS4y3FQUOjBM/BnelTZjil3w2iKNLnsNsoq9x4/ex3w\\ns4GgMDmzHpqVovoLTwDdMCsMs2CY4R4ytTSCgy6UwZoiJbzEo0jQMUXtz7Z9JmSb\\nJji8b/dFAgMBAAECgf8aRWiBqkbTgHB7TBApGlRo958+Pp1zk7PUd+GNmIvMCI1/\\nf3wLcXYtWbS+UoI+nZJURmyjnzuGONwR399ZnFJv+afXaoX6hj/Wvw+iMqFYL9O3\\nup/nOxV80/P8I0OIxEdc5aps/xI54rTfcJ6jM98++oGywM2UViNMfY0ojfB8+nvA\\nHWTDKiWTsEpglLsz/7BO6O4UFqsrgBILfawYEKSM4CFLc6yJS85guCZb8aSUlmMO\\neMYc/hLrDpn63UVCdZlkwOPcvHGjqDPdMSXLU39QFFGvLQYlZOZ0NbaKiXhlu0Ye\\nu/WWJnn1i7nIYa8fy1VlQZU5GSZKm0UxdZv10I8CgYEA+lSvcgRBgpDtPRkyzFdq\\nR4kE3AuaxIcZ1CvuRxE/9AP3R8hj4/d624tjI15aqCBjAyxBnSOSD8+/FoDHBXXV\\nEkQmHcIw/P69i65TObdu9EoDnNVduaa538zwjdri9guqAAIGhnAnxKtnaaxRLFlj\\nvT9JtZOV7cZtSYp4yfRvPfMCgYEA4UIa03gGvJpu5L548GUmh6pvRJijVmoQClaF\\nr+Oc+nzAP2knDhr5zCQxEsavjCUGUZ0hM+zcRaYS2aCWgZF+QNjndPmuDDpiq04R\\n0EmsA4bHHaq6cfl8G5TIYeybsVRU7rjXunQcLTqwOXw9t1APL9NUrAkf93m/K8fd\\nnnhL6+cCgYEAp/l7YL6KVtp41q6573QY1LeUkzMWPxmIs15nHTjt+QdQPtKwdJ/z\\nyK3XcDw4COjyh4aC4LalpAZ66tautXND7mXcTcuoo5ssBTaMkgYMZc/kbLCfm5vM\\nzefu4sEl2oQpJqg1SLCpfsalNbtzHJc+3hZBl53Y1Rx46QgJ1To4CxECgYAngLU9\\noo3j411RJgoFdmekYQI0UGRMkjsP5Q56wvrTfq8kL6eWtKpb33jvpwJAHHoYM+sP\\ntRkH6dDic2QRgtdWPfORMvwPzulgy0cadOECmU8v57HcrPjTyWq+qYTAO17NooLK\\ngvQyBlnDKwOTsymGpJPzu4Hsn2AkKF+4G7aMvwKBgQDDLj8SfuON2D+JVtE4NZNA\\ntcqTlmiq4/cZrhgdES+26Txfh/6eEdx6utANvSEydZx+93s0WeeYRmLlnmNOyckJ\\nB2g9mcckAf0P/uDnCwbfM1Ft7n8n/Fa0g9S9dBXouQeb6IwbyN6xbMLduT6+0922\\nzj5/BHInQirSoHOgycMMDw==\\n-----END PRIVATE KEY-----\\n'\r\n        })\r\n\r\n        await doc.loadInfo()\r\n        const sheet = doc.sheetsByIndex[2]\r\n\r\n        await sheet.loadCells('A3:B3')\r\n\r\n        const promotionCell = sheet.getCell(2, 0)\r\n\r\n        const textCell = sheet.getCell(2, 1)\r\n        console.log(promotionCell.value === 'VERDADEIRO')\r\n\r\n        res.end(JSON.stringify({\r\n            showCoupon: promotionCell.value === 'VERDADEIRO',\r\n            message: textCell.value\r\n        }))\r\n\r\n    } catch (err) {\r\n        res.end(JSON.stringify({\r\n            showCoupon: false,\r\n            message: ''\r\n        }))\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}